<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تفاصيل المنتج</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<main class="catalog" id="details"></main>

<script>
const products = JSON.parse(localStorage.getItem("products-cache")) || [];

const params = new URLSearchParams(window.location.search);
const id = Number(params.get("id"));

const product = products.find(p => p.id === id);

document.getElementById("details").innerHTML = `
  <div class="product">
    <img src="${product.image}">
    <div class="product-content">
      <h3>${product.name}</h3>
      <div class="price">${product.price} د.ل</div>
      <button class="btn" onclick="addToCart()">أضف إلى السلة</button>
    </div>
  </div>
`;

function addToCart() {
  let cart = JSON.parse(localStorage.getItem("cart") || "[]");
  cart.push(product);
  localStorage.setItem("cart", JSON.stringify(cart));
  window.location.href = "cart.html";
}
</script>

</body>
</html>
